# ZIP包解压 {#concept_x1g_cyg_4gb .concept}

阿里云OSS提供ZIP文件自动解压功能，开启此功能后，您上传到OSS的ZIP包都会被自动解压。

**说明：** 

-   ZIP包解压不能处理归档类型的文件。
-   ZIP包解压的功能是增值服务，在解压过程中，函数计算会根据解压执行时间计算费用，详情请参见[计费方式](https://help.aliyun.com/document_detail/54301.html)。

ZIP包解压需要结合函数计算来共同完成，目前只对ZIP后缀的文件进行处理。解压流程如下图：

![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/119755/155246487238103_zh-CN.png)

## 配置步骤 {#section_chr_ddh_4gb .section}

1.  登录[OSS管理控制台](https://oss.console.aliyun.com/)。
2.  在左侧存储空间列表中，单击目标存储空间名称，打开该存储空间概览页面。
3.  单击**函数计算** \> **ZIP包解压**。
4.  在ZIP包解压对话框，配置ZIP包解压信息。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/119755/155246487238109_zh-CN.png)

    -   **服务授权**：授予函数计算读写OSS Bucket下和执行函数的权限，需要单击**点击授权**按钮进行授权后使用。
    -   **触发器角色**：授予OSS访问函数计算的权限。
    -   **前缀**：指定触发函数计算的文件前缀。配置前缀后，当您上传指定前缀的文件时会触发函数计算。例如，您指定的前缀为abc，当您上传的文件以abc开头或将文件上传至abc/目录内时，会触发函数计算。

        **说明：** 此项不配置，将默认匹配该Bucket下的全部ZIP文件，可能会触发循环执行，详情请参见[如何避免循环执行](https://help.aliyun.com/knowledge_detail/56103.html?spm=a2c4g.11186623.6.704.524010f3kIbMGi#avoid-recursive-invoke)。

    -   **目标目录**：解压后的ZIP文件存放的目录，如果不设置，函数计算会将ZIP文件解压到当前Bucket的主目录下。
5.  勾选我已知晓并同意开通函数计算，通过函数计算处理压缩文件后，单击**确定**。

## 修改配置 {#section_azx_wlh_4gb .section}

当您设置ZIP包解压后，可随时更改ZIP包解压的配置。

1.  登录[OSS管理控制台](https://oss.console.aliyun.com/)。
2.  在左侧存储空间列表中，单击目标存储空间名称，打开该存储空间概览页面。
3.  单击**函数计算**。
4.  在触发器列表选择需要更改的条目，单击**编辑**，您可在此页面更改**触发规则**的**前缀**。

    **说明：** **触发规则**的**后缀**为系统默认设置，若修改，会影响ZIP文件的解压。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/119755/155246487338122_zh-CN.png)

5.  单击**确定**，之后单击**概览** \> **修改**，在弹出的**基础设置**对话框优化函数计算的配置。

    ![](http://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/119755/155246487338123_zh-CN.png)

    -   **函数入口**：函数的入口，例如"index.handler"会在执行的时候调用index.js中的exports.handler方法。
    -   **运行环境**：选择合适的执行语言，来执行您的函数。
    -   **函数执行内存**：根据您处理的文件大小来选择，若您的ZIP文件较小，可以选择更小规格的函数执行内存来节省费用。
    -   **超时时间**：函数在规定时间内未能执行，函数计算会返回超时错误。建议配置合适的超时时间，避免函数执行超时。
    -   **环境变量**：修改此项的值会修改解压文件的目标目录。
6.  修改完成后单击**确定**完成修改。

## 删除配置 {#section_ytz_rsh_4gb .section}

对于不需要的函数计算配置，您可以手动删除。

1.  登录[OSS管理控制台](https://oss.console.aliyun.com/)。
2.  在左侧存储空间列表中，单击目标存储空间名称，打开该存储空间概览页面。
3.  单击**函数计算**。
4.  在触发器列表选择需要删除的条目，单击**编辑**，之后在弹出的对话框单击**取消**。
5.  单击**触发器**，在触发器列表选中需要删除的条目，单击**删除**。
6.  最后，单击**删除函数**。

