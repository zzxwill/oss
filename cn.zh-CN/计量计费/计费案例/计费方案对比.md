# 计费方案对比 {#concept_zgh_xrn_tdb .concept}

## 案例背景 {#section_itj_yrn_tdb .section}

小王是一个在杭州的创业者，他带领团队研发了一款基于图片分享的移动应用。希望把图片存储在阿里云上，图片大概1TB，每月图片下行流量2TB，每月有1500W请求次数。小王想要了解怎么搭配阿里云产品使用，才是性价比最优的方式。

## 案例分析 {#section_ww1_1sn_tdb .section}

以下详细分析三种计费方式：OSS按量付费、OSS包年包月、OSS+CDN组合所需的费用。

**说明：** 以下单价来自2018年1月3日阿里云官网公布的详细价格信息。单价的变动请以[阿里云官网](https://www.aliyun.com/price/product#/oss/detail)发布的数据为准。

基于图片分享的移动应用主要的费用是存储费用和流量费用，推荐使用OSS（标准型存储包）+CDN组合。CDN（内容分发网络）会将您OSS存储的热点数据分发到全国各地的节点。用户访问时只需访问最近的CDN节点读取文件，而无需访问OSS的源文件，也不会消耗OSS的外网流量。这样不仅可以提升您边缘用户的访问速度和体验，同时CDN的外网流量费用相对OSS外网流量较低，仅为OSS外网流量的50%。可有效的节省您整体应用的网络费用。

假设小王的存储Bucket选择在杭州，采用按量付费、包年包月以及OSS+CDN组合三种付费方式所花费的金额对比如下表所示：

|付费方式|计算规则|付费周期|费用计算|
|按量付费| -   存储费用：存储单价 \* 存储量
-   流量费用：外网流出流量忙时单价 \* 流量
-   请求费用：Put请求 + Get请求汇总的费用

 |平均每个月的费用| -   存储费用：假设当月有30天，且用户的存储量保持不变，为1TB。则当月存储费用为：0.12（存储单价：元/GB/月）/30/24 \* 1024（存储量：GB）\*30\*24 = 122.88 元/月。

**说明：** 按量付费模式下，存储空间费用，按小时出账，需将月单价换算为小时价，再计算每小时实际存储费用，换算公式为：存储费用每小时单价=月单价/30/24。例如，标准型存储单价为0.12元/GB/月，则每GB每小时的单价为0.12元/30/24。

-   流量费用：0.5（外网流出流量忙时单价：元/GB）\* 2048 （流量：GB） = 1024 元/月
-   请求费用：0.01（请求费用单价：元/万次）\* 1500 = 15 元/月
-   总费用：**1161.88 元/月**

 |
|包年包月| -   存储费用：标准型存储包平均每月的费用-
-   流量费用：外网流出流量包平均每月的费用
-   请求费用：Put请求 + Get请求汇总的费用

 |假如小王买了6个月的1TB标准型存储包和2TB外网流出流量包，平均每个月的费用。| -   存储费用：555（1TB标准型存储包6个月价格：元）/6 （月） = 92.5元/月
-   流量费用：5050（2TB外网流出流量包6个月价格：元）/6 （月） = 841.7 元/月
-   请求费用 ：0.01（请求费用单价：元/万次）\* 1500 = 15 元/月
-   总费用：**949.2 元/月**

 |
|假如小王买了12个月的1TB标准型存储包和2TB外网流出流量包，平均每个月的费用。| -   存储费用：999（1TB标准型存储包12个月价格：元）/12 （月） = 83.25 元/月
-   流量费用：9090（2TB外网流出流量包 12个月价格：元）/12 （月） = 757.5 元/月
-   请求费用 ： 0.01（请求费用单价：元/万次）\* 1500 = 15 元/月
-   总费用：**855.75 元/月** 

 |
|OSS+CDN组合| -   存储费用：标准型存储包平均每月的费用
-   流量费用：CDN公网流量费用 + CDN回源流量费用
-   请求费用：CDN回源请求费用 + OSS PUT类请求费用

 |假如小王买了12个月的1TB标准型存储包，CDN回源流量1TB，回源请求750万，使用OSS+CDN组合，平均每个月的费用。| -   存储费用：999（1TB标准型存储包12个月价格：元）/12 （月） = 83.25 元/月
-   CDN公网流量费用（按量付费）: 0.24（CDN按流量计费单价：元/GB\) \* 2048 （流量：GB）= 491.52 元/月
-   CDN回源流量费用（按量付费）: 0.15 （CDN回源流出流量单价：元/GB）\* 1024 （流量：GB）= 153.6 元/月
-   CDN回源请求费用（按量付费）： 0.01（请求费用单价：元/万次）\* 750 = 7.5 元/月
-   OSS PUT类请求费用（按量付费）: 0.01（请求费用单价：元/万次）\* 750 = 7.5 元/月
-   总费用：**743.37 元/月**

 |

## 总结 {#section_msp_hvn_tdb .section}

通过以上三种计费方式的计算对比可以看出：

-   购买资源包使用包年包月的方式将为您节省大量成本，购买资源包的时长越长优惠越多。
-   如果您的OSS服务产生的费用中外网流量费用占比较大，建议您搭配使用阿里云CDN服务以进一步降低您的外网流量成本。

